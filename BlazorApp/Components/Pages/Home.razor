@page "/"

@rendermode InteractiveServer

<PageTitle>Counter</PageTitle>

<div class="page-wrapper">
    <div class="counter-card">
        <section class="section-subtle" aria-labelledby="goal-heading">
            <label>Set goal</label>
            <input type="number" @bind="goal" />
            <p>(not required)</p>
        </section>

        <section class="section-main" aria-labelledby="count-heading">
            <button class="btn btn-secondary" @onclick="() => currentCount = 0">
                <?xml version="1.0" encoding="utf-8"?>
                <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                <svg fill="#000000" width="25px" height="25px" viewBox="-7.5 0 32 32" version="1.1"
                    xmlns="http://www.w3.org/2000/svg">
                    <title>restart</title>
                    <path
                        d="M15.88 13.84c-1.68-3.48-5.44-5.24-9.040-4.6l0.96-1.8c0.24-0.4 0.080-0.92-0.32-1.12-0.4-0.24-0.92-0.080-1.12 0.32l-1.96 3.64c0 0-0.44 0.72 0.24 1.040l3.64 1.96c0.12 0.080 0.28 0.12 0.4 0.12 0.28 0 0.6-0.16 0.72-0.44 0.24-0.4 0.080-0.92-0.32-1.12l-1.88-1.040c2.84-0.48 5.8 0.96 7.12 3.68 1.6 3.32 0.2 7.32-3.12 8.88-1.6 0.76-3.4 0.88-5.080 0.28s-3.040-1.8-3.8-3.4c-0.76-1.6-0.88-3.4-0.28-5.080 0.16-0.44-0.080-0.92-0.52-1.080-0.4-0.080-0.88 0.16-1.040 0.6-0.72 2.12-0.6 4.36 0.36 6.36s2.64 3.52 4.76 4.28c0.92 0.32 1.84 0.48 2.76 0.48 1.24 0 2.48-0.28 3.6-0.84 4.16-2 5.92-7 3.92-11.12z">
                    </path>
                </svg>
            </button>
            <p role="status">@currentCount</p>

            @if (goal == currentCount && goal != 0)
            {
                <p>You are finnished!</p>
            }
            <button class="btn btn-primary" @onclick="DecreaseCount">-</button>
            <button class="btn btn-primary" @onclick="IncrementCount">+</button>
        </section>

        <section class="section-accent">
            <p>Set increments</p>
            <button class="yarn-btn" @onclick="() => IncrementAmount = 1">
                <div class="yarn-icon"></div>
                <span class="yarn-btn-text">1</span>
            </button>
            <button class="yarn-btn" @onclick="() => IncrementAmount = 2">
                <div class="yarn-icon"></div>
                <span class="yarn-btn-text">2</span>
            </button>
            <button class="yarn-btn" @onclick="() => IncrementAmount = 5">
                <div class="yarn-icon"></div>
                <span class="yarn-btn-text">5</span>
            </button>
            <button class="yarn-btn" @onclick="() => IncrementAmount = 10">
                <div class="yarn-icon"></div>
                <span class="yarn-btn-text">10</span>
            </button>
        </section>
    </div>
</div>

@code {
    private int currentCount = 0;

    private int goal = 5;

    [Parameter]
    public int IncrementAmount { get; set; } = 1;
    private void IncrementCount()
    {
        currentCount += IncrementAmount;
    }

    private void DecreaseCount()
    {
        currentCount -= IncrementAmount;
    }
}